<!DOCTYPE html>
<html>
<head>
  <title>Supreme Seal High-Gloss Low VOC Concrete Sealer – Live Map (Jan 13, 2026)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  <style>
    body{margin:0;padding:0;font-family:Arial,sans-serif}
    #map{width:100%;height:100vh}
    h3{font-size:1.5em;padding:10px;text-align:center;margin:0;background:#1976d2;color:white}
    #location-button{position:absolute;top:60px;left:10px;z-index:1000;padding:10px;background:#fff;border:2px solid #ccc;border-radius:4px;cursor:pointer;font-size:1em;box-shadow:0 2px 6px rgba(0,0,0,.3)}
    #info-panel{position:absolute;top:110px;left:10px;z-index:1000;background:#fff;border:2px solid #ccc;border-radius:4px;padding:10px;max-height:240px;overflow-y:auto;display:none;width:290px;box-shadow:0 2px 6px rgba(0,0,0,.3);font-size:0.93em}
    #info-panel.show{display:block}
    a{color:#1976d2;text-decoration:none;font-weight:bold}
    #allow-banner{position:fixed;bottom:0;left:0;right:0;background:#fffde7;padding:12px 16px;border-top:2px solid #ffc107;text-align:center;font-size:0.95em;z-index:2000;display:none;box-shadow:0 -2px 8px rgba(0,0,0,.1)}
    #allow-banner.show{display:block}
    #allow-btn{background:#1976d2;color:#fff;padding:6px 14px;border:none;border-radius:4px;cursor:pointer;margin-left:8px}
    @media(max-width:768px){h3{font-size:1.2em}#info-panel{top:100px;width:92%;left:4%}}
  </style>
</head>
<body>
  <h3>5 gal Supreme Seal High-Gloss Low VOC Solvent-Based Concrete Sealer<br><small>Green = In Stock @ Retail • Red = No Stock @ Clearance/Low Price • Jan 13, 2026</small></h3>
  <button id="location-button">Center on Current Location</button>
  <div id="info-panel"></div>
  <div id="allow-banner"><span>This site wants to open directions in your maps app.</span> <button id="allow-btn">Allow</button></div>
  <div id="map"></div>

  <script>
    let map, userMarker, directionsAllowed = false;
    const banner = document.getElementById('allow-banner');
    const allowBtn = document.getElementById('allow-btn');

    function requestDirectionsPermission(address) {
      if (directionsAllowed) { launchDirections(address); return; }
      banner.classList.add('show');
      allowBtn.onclick = () => {
        directionsAllowed = true;
        banner.classList.remove('show');
        launchDirections(address);
      };
    }

    function launchDirections(address) {
      const clean = address.replace(/&/g, '%26').trim();
      const enc = encodeURIComponent(clean);
      const isIOS = /iPhone|iPad|iPod/.test(navigator.userAgent);
      const isAndroid = /Android/.test(navigator.userAgent);
      if (isIOS) window.location.href = `http://maps.apple.com/?q=${enc}`;
      else if (isAndroid) window.location.href = `geo:0,0?q=${enc}`;
      else window.open(`https://www.google.com/maps/dir/?api=1&destination=${enc}`, '_blank');
    }

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        zoom: 7,
        center: { lat: 37.5407, lng: -77.4360 },
        gestureHandling: 'greedy',
        mapTypeControl: false,
        streetViewControl: false
      });

      document.getElementById("location-button").addEventListener("click", () => {
        if (!navigator.geolocation) { alert("Geolocation not supported."); return; }
        navigator.geolocation.getCurrentPosition(pos => {
          const loc = { lat: pos.coords.latitude, lng: pos.coords.longitude };
          map.panTo(loc); map.setZoom(11);
          if (userMarker) userMarker.setPosition(loc);
          else userMarker = new google.maps.Marker({
            position: loc, map,
            icon: "http://maps.google.com/mapfiles/ms/icons/red-dot.png",
            title: "You Are Here"
          });
        }, err => alert("Location error: " + err.message), {enableHighAccuracy: true, timeout: 8000});
      });

      const stores = [
        // Green: In Stock @ Retail (~$199)
        {lat:37.6078,lng:-77.3747,title:"#4624 Mechanicsville VA",addr:"7251 Bell Creek Rd, Mechanicsville VA",price:"$199.00",stock:4},
        {lat:37.7089,lng:-77.4594,title:"#4653 Ashland VA",addr:"10233 Lakeridge Parkway, Ashland VA",price:"$199.00",stock:7},
        {lat:37.5057,lng:-77.6087,title:"#4631 Richmond VA",addr:"1386 Car Mia Way, Richmond VA",price:"$199.00",stock:3},
        {lat:37.6521,lng:-77.5668,title:"#4611 Glen Allen VA",addr:"11260 W Broad St, Glen Allen VA",price:"$199.00",stock:9},
        {lat:37.4505,lng:-77.6488,title:"#4627 Midlothian VA",addr:"12300 Chattanooga Plaza, Midlothian VA",price:"$199.00",stock:4},
        {lat:37.3628,lng:-77.4337,title:"#4616 Chester VA",addr:"12300 Jefferson Davis Hwy, Chester VA",price:"$199.00",stock:1},
        {lat:38.2978,lng:-77.5301,title:"#4660 Fredericksburg VA",addr:"5771 Plank Road, Fredericksburg VA",price:"$199.00",stock:7},
        {lat:38.4578,lng:-77.4089,title:"#4637 Stafford VA",addr:"305 Worth Avenue, Stafford VA",price:"$199.00",stock:5},
        {lat:38.7867,lng:-77.5189,title:"#4607 Manassas VA",addr:"7486 Stream Walk Ln, Manassas VA",price:"$199.00",stock:6},
        {lat:38.4646,lng:-77.4139,title:"#4647 Ashburn VA",addr:"43675 Greenway Corp Dr, Ashburn VA",price:"$199.00",stock:3},

        // Red: No Stock @ Clearance/Low Price (≤$42 or N/A)
        {lat:37.5985,lng:-77.5166,title:"#4632 Richmond VA",addr:"6501 W Broad St, Richmond VA",price:"$8.40",stock:0},
        {lat:37.2694,lng:-77.4071,title:"#4633 Colonial Heights VA",addr:"2600 Conduit Rd, Colonial Heights VA",price:"$8.40",stock:0},
        {lat:37.2911,lng:-76.7447,title:"#4635 Williamsburg VA",addr:"6700 Mooretown Rd, Williamsburg VA",price:"N/A",stock:0},
        {lat:38.3071,lng:-77.4932,title:"#4620 Fredericksburg VA",addr:"1201 Gateway Blvd, Fredericksburg VA",price:"$42.00",stock:0},
        {lat:37.4067,lng:-76.5347,title:"#4650 Gloucester VA",addr:"6921 Walton Lane, Gloucester VA",price:"N/A",stock:0},
        {lat:37.0911,lng:-76.4889,title:"#4613 Newport News VA",addr:"325 Chatham Dr, Newport News VA",price:"N/A",stock:0},
        {lat:37.0497,lng:-76.3847,title:"#4612 Hampton VA",addr:"1413 N Armistead Ave, Hampton VA",price:"N/A",stock:0},
        {lat:36.728,lng:-78.1422,title:"#4659 South Hill VA",addr:"250 Frank D Harris Dr, South Hill VA",price:"N/A",stock:0},
        {lat:38.6739,lng:-77.2528,title:"#4604 Woodbridge VA",addr:"14025 Foulger Square, Woodbridge VA",price:"$8.40",stock:0},
        {lat:36.7756,lng:-76.2847,title:"#4622 Chesapeake VA",addr:"2421 Old Taylor Rd, Chesapeake VA",price:"N/A",stock:0},
        {lat:38.6211,lng:-76.9256,title:"#2563 Waldorf MD",addr:"12050 Jefferson Farm Pl, Waldorf MD",price:"$8.40",stock:0},
        {lat:38.7322,lng:-77.7847,title:"#8552 Warrenton VA",addr:"267 Alwington Blvd, Warrenton VA",price:"$8.40",stock:0},
        {lat:38.7689,lng:-77.4733,title:"#4648 Manassas VA",addr:"8805 Liberia Ave, Manassas VA",price:"$42.00",stock:0},
        {lat:36.8706,lng:-76.2094,title:"#4615 Norfolk VA",addr:"1261 N Military Hwy, Norfolk VA",price:"N/A",stock:0},
        {lat:38.7483,lng:-77.0847,title:"#4638 Alexandria VA",addr:"7710 Richmond Hwy, Alexandria VA",price:"$8.40",stock:0},
        {lat:38.7828,lng:-77.1878,title:"#4617 Springfield VA",addr:"6691 Frontier Rd, Springfield VA",price:"$8.40",stock:0},
        {lat:38.7666,lng:-77.2837,title:"#4213 Haymarket VA",addr:"15450 John Marshall Hwy, Haymarket VA",price:"$8.40",stock:0},
        {lat:38.8087,lng:-77.0865,title:"#4640 Alexandria VA",addr:"6555 Little River Tpke, Alexandria VA",price:"$8.40",stock:0},
        {lat:38.8467,lng:-77.3067,title:"#4601 Fairfax VA",addr:"12275 Price Club Plaza, Fairfax VA",price:"$8.40",stock:0},
        {lat:38.8367,lng:-77.3053,title:"#4605 Fairfax VA",addr:"2815 Merrilee Dr, Fairfax VA",price:"$8.40",stock:0},
        {lat:38.8742,lng:-77.1528,title:"#4608 Falls Church VA",addr:"6210 Seven Corners Ctr, Falls Church VA",price:"$8.40",stock:0},
        {lat:36.6602,lng:-76.2345,title:"#4656 Chesapeake VA",addr:"157 Hillcrest Pkwy, Chesapeake VA",price:"N/A",stock:0},
        {lat:38.8963,lng:-77.4291,title:"#8551 Chantilly VA",addr:"25000 Riding Plaza, Chantilly VA",price:"$14.00",stock:0},
        {lat:38.7947,lng:-76.9237,title:"#8550 Upper Marlboro MD",addr:"15410 Chrysler Drive, Upper Marlboro MD",price:"$8.40",stock:0},
        {lat:38.8976,lng:-76.9477,title:"#2555 Capitol Heights MD",addr:"150 Hampton Park Blvd, Capitol Heights MD",price:"$8.40",stock:0},
        {lat:38.9047,lng:-77.0367,title:"#2583 Washington DC",addr:"901 Rhode Island Ave Ne, Washington DC",price:"$8.40",stock:0},
        {lat:36.8342,lng:-76.1268,title:"#4643 Virginia Beach VA",addr:"2324 Elson Green Ave., Virginia Beach VA",price:"N/A",stock:0},
        {lat:38.9746,lng:-77.4087,title:"#4641 Reston VA",addr:"1651 Reston Parkway, Reston VA",price:"$42.00",stock:0},
        {lat:37.3769,lng:-79.1922,title:"#4655 Lynchburg VA",addr:"7902 Graves Mill Road, Lynchburg VA",price:"N/A",stock:0},
        {lat:39.0287,lng:-76.9076,title:"#8548 Lanham MD",addr:"10301 M L King Jr. Hwy, Lanham MD",price:"$8.40",stock:0},
        {lat:39.0386,lng:-77.4022,title:"#4602 Sterling VA",addr:"46261 Cranston Way, Sterling VA",price:"$8.40",stock:0}
      ];

      stores.forEach(s => {
        const isStockRetail = s.stock > 0 && (s.price.includes("199") || s.price.includes("288"));
        const isNoStockLow = s.stock === 0 && (parseFloat(s.price.replace("$", "")) <= 42 || s.price === "N/A");

        let icon = "http://maps.google.com/mapfiles/ms/icons/yellow-dot.png"; // fallback
        if (isStockRetail) icon = "http://maps.google.com/mapfiles/ms/icons/green-dot.png";
        else if (isNoStockLow) icon = "http://maps.google.com/mapfiles/ms/icons/red-dot.png";

        const status = isStockRetail ? "In Stock @ Retail" : isNoStockLow ? "No Stock @ Clearance/Low" : "Other";
        const safe = s.addr.replace(/'/g, "\\'");
        const html = `<strong>${s.title}</strong><br>${s.addr}<br>Price: ${s.price}<br>Status: ${status} (${s.stock} units)<br><a href="#" onclick="requestDirectionsPermission('${safe}'); return false;">Get Directions</a>`;

        const marker = new google.maps.Marker({
          position: { lat: s.lat, lng: s.lng },
          map: map,
          title: s.title,
          icon: icon
        });

        const iw = new google.maps.InfoWindow({ content: html, maxWidth: 290 });

        marker.addListener("click", () => {
          iw.open(map, marker);
          document.getElementById("info-panel").innerHTML = html;
          document.getElementById("info-panel").classList.add("show");
        });
      });

      map.addListener("click", () => document.getElementById("info-panel").classList.remove("show"));
    }
  </script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBGkKq-mR_Yb1xYsGDNJqJQaxQekWzWyOQ&callback=initMap"></script>
</body>
</html>